var elegance={w:elegance};elegance.init=function(){"use strict";function e(){var e={};e.VERSION="1.5.2-elegance";var t={},n=Array.prototype,i=Object.prototype,a=Function.prototype,o=(n.push,n.slice),r=(n.concat,i.toString,i.hasOwnProperty),s=n.forEach,c=n.map,u=(n.reduce,n.reduceRight,n.filter),l=(n.every,n.some),d=n.indexOf,f=(n.lastIndexOf,Array.isArray,Object.keys),h=(a.bind,e.each=e.forEach=function(n,i,a){if(null!=n)if(s&&n.forEach===s)n.forEach(i,a);else if(n.length===+n.length){for(var o=0,r=n.length;r>o;o++)if(i.call(a,n[o],o,n)===t)return}else for(var c=e.keys(n),o=0,r=c.length;r>o;o++)if(i.call(a,n[c[o]],c[o],n)===t)return});e.map=e.collect=function(e,t,n){var i=[];return null==e?i:c&&e.map===c?e.map(t,n):(h(e,function(e,a,o){i.push(t.call(n,e,a,o))}),i)},e.filter=e.select=function(e,t,n){var i=[];return null==e?i:u&&e.filter===u?e.filter(t,n):(h(e,function(e,a,o){t.call(n,e,a,o)&&i.push(e)}),i)};var p=e.some=e.any=function(n,i,a){i||(i=e.identity);var o=!1;return null==n?o:l&&n.some===l?n.some(i,a):(h(n,function(e,n,r){return o||(o=i.call(a,e,n,r))?t:void 0}),!!o)};return e.contains=e.include=function(e,t){return null==e?!1:d&&e.indexOf===d?-1!=e.indexOf(t):p(e,function(e){return e===t})},e.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},e.defer=function(t){return e.delay.apply(e,[t,1].concat(o.call(arguments,1)))},e.throttle=function(e){var t,n,i;return function(){t||(t=!0,n=arguments,i=this,window.tram.frame(function(){t=!1,e.apply(i,n)}))}},e.debounce=function(e,t,n){var i,a,o,r,s;return function(){o=this,a=arguments,r=new Date;var c=function(){var u=new Date-r;t>u?i=setTimeout(c,t-u):(i=null,n||(s=e.apply(o,a)))},u=n&&!i;return i||(i=setTimeout(c,t)),u&&(s=e.apply(o,a)),s}},e.keys=f||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var n=[];for(var i in t)e.has(t,i)&&n.push(i);return n},e.has=function(e,t){return r.call(e,t)},e}var t=window.$,n={},i={},a=[],o=this.w||[],r=t(window),s=n._=e(),c=!1;n.define=function(e,o){var r=i[e]=o(t,s);r&&(n.env()&&(t.isFunction(r.design)&&window.addEventListener("__wf_design",r.design),t.isFunction(r.preview)&&window.addEventListener("__wf_preview",r.preview)),r.ready&&t.isFunction(r.ready)&&(c?r.ready():a.push(r.ready)))},n.require=function(e){return i[e]},n.push=function(e){return c?void(t.isFunction(e)&&e()):void o.push(e)},n.env=function(e){var t=window.__wf_design,n="undefined"!=typeof t;return e?"design"==e?n&&t:"preview"==e?n&&!t:"slug"==e?n&&window.__wf_slug:void 0:n};var u=navigator.userAgent;if(n.env.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n.env.chrome=/chrome|crios/i.test(u),n.script=function(e){var t=document,n=t.createElement("script");n.type="text/javascript",n.src=e,t.getElementsByTagName("head")[0].appendChild(n)},n.resize=function(){var e=[],t={};return t.up=s.throttle(function(t){s.each(e,function(e){e(t)})}),r.on("resize.elegance orientationchange.elegance load.elegance",t.up),t.on=function(t){"function"==typeof t&&(s.contains(e,t)||e.push(t))},t.off=function(t){e=s.filter(e,function(e){return e!==t})},t}(),n.location=function(e){window.location=e},n.env()){var l=window.Event,d=new l("__wf_redraw");t.fn.redraw=function(){return this.each(function(){this.dispatchEvent(d)})},n.location=function(e){window.dispatchEvent(new CustomEvent("__wf_location",{detail:e}))}}t(function(){c=!0,t.each(a.concat(o),function(e,n){t.isFunction(n)&&n()}),n.resize.up()}),elegance=n},function(e,t){"use strict";function n(e){e="object"==typeof e?e:t.getElementById(e),this.element=e,this.moved=!1,this.startX=0,this.startY=0,this.hasTouchEventOccured=!1,e.addEventListener("touchstart",this,!1),e.addEventListener("touchmove",this,!1),e.addEventListener("touchend",this,!1),e.addEventListener("touchcancel",this,!1),e.addEventListener("mousedown",this,!1),e.addEventListener("mouseup",this,!1)}n.prototype.start=function(e){"touchstart"===e.type&&(this.hasTouchEventOccured=!0),this.moved=!1,this.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,this.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY},n.prototype.move=function(e){(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)&&(this.moved=!0)},n.prototype.end=function(e){var n;return this.hasTouchEventOccured&&"mouseup"===e.type?(e.preventDefault(),e.stopPropagation(),void(this.hasTouchEventOccured=!1)):void(this.moved||("undefined"!=typeof t.CustomEvent?n=new t.CustomEvent("tap",{bubbles:!0,cancelable:!0}):(n=t.createEvent("Event"),n.initEvent("tap",!0,!0)),e.target.dispatchEvent(n)))},n.prototype.cancel=function(){this.hasTouchEventOccured=!1,this.moved=!1,this.startX=0,this.startY=0},n.prototype.destroy=function(){var e=this.element;e.removeEventListener("touchstart",this,!1),e.removeEventListener("touchmove",this,!1),e.removeEventListener("touchend",this,!1),e.removeEventListener("touchcancel",this,!1),e.removeEventListener("mousedown",this,!1),e.removeEventListener("mouseup",this,!1),this.element=null},n.prototype.handleEvent=function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":this.end(e);break;case"touchcancel":this.cancel(e);break;case"mousedown":this.start(e);break;case"mouseup":this.end(e)}},e.Tap=n}(window,document),elegance.init(),elegance.define("elegance-touch",function(e,t){"use strict";function n(e){i.call(this,e)}var i=window.Tap,a=".w-events-",o=a+"tap",r=!document.addEventListener;e.event.special.tap=r||!elegance.env.touch?{bindType:"click",delegateType:"click"}:{setup:function(){e.data(this,o,new i(this))},teardown:function(){var t=e.data(this,o);t&&t.destroy&&(t.destroy(),e.removeData(this,o))},add:function(e){this.addEventListener("tap",e.handler,!1)},remove:function(e){this.removeEventListener("tap",e.handler,!1)}},!r&&Object.create&&(o=a+"swipe",e.event.special.swipe={setup:function(){e.data(this,o,new n(this))},teardown:function(){var t=e.data(this,o);t&&t.destroy&&(t.destroy(),e.removeData(this,o))},add:function(e){this.addEventListener("swipe",e.handler,!1)},remove:function(e){this.removeEventListener("swipe",e.handler,!1)}},function(){var a=i.prototype,o=n.prototype=Object.create(a),r=Math.round(.04*screen.width)||20;r>40&&(r=40),o.start=function(e){a.start.call(this,e),this.element.addEventListener("mousemove",this,!1),document.addEventListener("mouseup",this,!1),this.velocityX=0,this.lastX=this.startX,this.enabled=!0},o.move=t.throttle(function(e){if(this.enabled){var t=e.touches?e.touches[0].clientX:e.clientX;this.velocityX=t-this.lastX,this.lastX=t,Math.abs(this.velocityX)>r&&this.end(e)}}),o.end=function(){if(this.enabled){var t=this.velocityX;this.cancel(),Math.abs(t)>r&&e(this.element).triggerHandler("swipe",{direction:t>0?"right":"left"})}},o.destroy=function(){this.cancel(),a.destroy.call(this)},o.cancel=function(){this.enabled=!1,this.element.removeEventListener("mousemove",this,!1),document.removeEventListener("mouseup",this,!1),a.cancel.call(this)},o.handleEvent=function(e){return"mousemove"==e.type?this.move(e):void a.handleEvent.call(this,e)}}())}),elegance.define("elegance-forms",function(e,t){"use strict";function n(){p=e("html").attr("data-wf-site"),h=e(y+" form"),h.each(i)}function i(t,n){var i=e(n),a=e.data(n,y);a||(a=e.data(n,y,{form:i})),o(a);var r=i.closest("div.w-form");a.done=r.find("> .w-form-done"),a.fail=r.find("> .w-form-fail");var s=a.action=i.attr("action");return a.handler=null,a.redirect=i.attr("data-redirect"),L.test(s)?void(a.handler=l):s?void 0:p?void(a.handler=u):void O()}function a(){m.on("submit",y+" form",function(t){var n=e.data(this,y);n.handler&&(n.evt=t,n.handler(n))})}function o(e){var t=e.btn=e.form.find(':input[type="submit"]');e.wait=e.btn.attr("data-wait")||null,e.success=!1,t.prop("disabled",!1),e.label&&t.val(e.label)}function r(e){var t=e.btn,n=e.wait;t.prop("disabled",!0),n&&(e.label=t.val(),t.val(n))}function s(t,n){var i=null;return n=n||{},t.find(':input:not([type="submit"])').each(function(t,a){var o=e(a),r=o.attr("data-name")||o.attr("name")||"Field "+(t+1),s=o.val();"string"==typeof s&&(s=e.trim(s)),n[r]=s,i=i||c(o,r,s)}),i}function c(e,t,n){var i=null;return e.attr("required")?(n?(b.test(t)||b.test(e.attr("type")))&&(E.test(n)||(i="Please enter a valid email address for: "+t)):i="Please fill out the required field: "+t,i):null}function u(t){o(t);var n=t.form,i={name:n.attr("data-name")||n.attr("name")||"Untitled Form",source:w.href,test:elegance.env(),fields:{}};f(t);var a=s(n,i.fields);if(a)return alert(a);if(r(t),!p)return void d(t);var c="https://elegance.com/api/v1/form/"+p;g&&c.indexOf("https://elegance.com")>=0&&(c=c.replace("https://elegance.com/","http://data.elegance.com/")),e.ajax({url:c,type:"POST",data:i,dataType:"json",crossDomain:!0}).done(function(){t.success=!0,d(t)}).fail(function(){d(t)})}function l(n){o(n);var i=n.form,a={};if(/^https/.test(w.href)&&!/^https/.test(n.action))return void i.attr("method","post");f(n);var c=s(i,a);if(c)return alert(c);r(n);var u;t.each(a,function(e,t){b.test(t)&&(a.EMAIL=e),/^(name|full(\-)?name)$/i.test(t)&&(u=e),/^(first(\-)?name)$/i.test(t)&&(a.FNAME=e),/^(last(\-)?name)$/i.test(t)&&(a.LNAME=e)}),u&&!a.FNAME&&(u=u.split(" "),a.FNAME=u[0],a.LNAME=a.LNAME||u[1]);var l=n.action.replace("/post?","/post-json?")+"&c=?",h=l.indexOf("u=")+2;h=l.substring(h,l.indexOf("&",h));var p=l.indexOf("id=")+3;p=l.substring(p,l.indexOf("&",p)),a["b_"+h+"_"+p]="",e.ajax({url:l,data:a,dataType:"jsonp"}).done(function(e){n.success="success"==e.result||/already/.test(e.msg),n.success||console.info("MailChimp error: "+e.msg),d(n)}).fail(function(){d(n)})}function d(e){var t=e.form,n=(t.closest("div.w-form"),e.redirect),i=e.success;return i&&n?void elegance.location(n):(e.done.toggleClass("w-form-done-show",i),e.fail.toggleClass("w-form-fail-show",!i),i&&t.addClass("w-hidden"),void o(e))}function f(e){e.evt&&e.evt.preventDefault(),e.evt=null}var h,p,v={},m=e(document),w=window.location,g=window.XDomainRequest&&!window.atob,y=".w-form",b=/e(\-)?mail/i,E=/^\S+@\S+$/,L=/list-manage[1-9]?.com/i;v.ready=function(){n(),a&&a(),a=null},v.preview=v.design=function(){n()};var O=t.debounce(function(){window.alert("Oops! This page has a form that is powered by elegance, but important code was removed that is required to make the form work. Please contact support@elegance.com to fix this issue.")},100);return v}),elegance.define("elegance-maps",function(e,t){"use strict";function n(){c.length&&c.redraw()}function i(){c=l.find(d),c.length&&(elegance.script("https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=_wf_maps_loaded"),window._wf_maps_loaded=function(){delete window._wf_maps_loaded,s=window.google,c.each(a),elegance.resize.on(function(){c.each(o)})})}function a(t,n){var i=e(n).data();r(n,i)}function o(e,t){var n=r(t);s.maps.event.trigger(n.map,"resize"),n.setMapPosition()}function r(t,n){var i=e.data(t,f);if(i)return i;var a=e(t);i=e.data(t,f,{latLng:"51.511214,-0.119824",tooltip:"",style:"roadmap",zoom:12,marker:new s.maps.Marker({draggable:!1}),infowindow:new s.maps.InfoWindow({disableAutoPan:!0})});var o=n.widgetLatlng||i.latLng;i.latLng=o;var r=o.split(","),c=new s.maps.LatLng(r[0],r[1]);i.latLngObj=c;var u=elegance.env.touch&&n.disableTouch?!1:!0;i.map=new s.maps.Map(t,{center:i.latLngObj,zoom:i.zoom,maxZoom:18,mapTypeControl:!1,panControl:!1,streetViewControl:!1,scrollwheel:!n.disableScroll,draggable:u,zoomControl:!0,zoomControlOptions:{style:s.maps.ZoomControlStyle.SMALL},mapTypeId:i.style}),i.marker.setMap(i.map),i.setMapPosition=function(){i.map.setCenter(i.latLngObj);var e=0,t=0,n=a.css(["paddingTop","paddingRight","paddingBottom","paddingLeft"]);e-=parseInt(n.paddingLeft,10),e+=parseInt(n.paddingRight,10),t-=parseInt(n.paddingTop,10),t+=parseInt(n.paddingBottom,10),(e||t)&&i.map.panBy(e,t),a.css("position","")},s.maps.event.addListener(i.map,"tilesloaded",function(){s.maps.event.clearListeners(i.map,"tilesloaded"),i.setMapPosition()}),i.setMapPosition(),i.marker.setPosition(i.latLngObj),i.infowindow.setPosition(i.latLngObj);var l=n.widgetTooltip;l&&(i.tooltip=l,i.infowindow.setContent(l),i.infowindowOpen||(i.infowindow.open(i.map,i.marker),i.infowindowOpen=!0));var d=n.widgetStyle;d&&i.map.setMapTypeId(d);var h=n.widgetZoom;return null!=h&&(i.zoom=h,i.map.setZoom(+h)),s.maps.event.addListener(i.marker,"click",function(){window.open("https://maps.google.com/?z="+i.zoom+"&daddr="+i.latLng)}),i}var s,c,u={},l=e(document),d=".w-widget-map";u.preview=function(){c=l.find(d),elegance.resize.off(n),c.length&&(elegance.resize.on(n),n())},u.design=function(){c=l.find(d),elegance.resize.off(n),c.length&&t.defer(n)},u.ready=function(){elegance.env()||i()};var f="w-widget-map";return u}),elegance.define("elegance-scroll",function(e){"use strict";function t(){c.hash&&n(c.hash.substring(1)),r.on("click","a",function(t){if(!(elegance.env("design")||window.$.mobile&&e(t.currentTarget).hasClass("ui-link"))){var i=this.hash?this.hash.substring(1):null;i&&n(i,t)}})}function n(t,n){var a=e("#"+t);if(a.length){n&&(n.preventDefault(),n.stopPropagation()),c.hash!==t&&s.history&&s.history.pushState&&s.history.pushState(null,null,"#"+t);var o=e("header, body > .header, body > .w-nav, body > div:first-child"),r="fixed"===o.css("position")?o.outerHeight():0;s.setTimeout(function(){i(a,r)},n?0:300)}}function i(t,n){var i=e(s).scrollTop(),o=t.offset().top-n,r=Date.now(),c=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||function(e){s.setTimeout(e,15)},u=472.143*Math.log(Math.abs(i-o)+125)-2e3,l=function(){var e=Date.now()-r;s.scroll(0,a(i,o,e,u)),u>=e&&c(l)};l()}function a(e,t,n,i){return n>i?t:e+(t-e)*o(n/i)}function o(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}var r=e(document),s=(e(document.body),window),c=s.location;return{ready:t}});